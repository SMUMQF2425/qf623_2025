Downloading ETF price data...
Running rolling alpha backtest testing (long-only, momentum only, top 3 US equity ETFs, volatility targeting)...
Long-only backtest testing completed successfully.
Running rolling alpha backtest testing (long-short, momentum only, top 3 US equity ETFs, volatility targeting)...
Long-short backtest testing completed successfully.

=== Grid Search for Optimal Alpha Parameters ===

=== Grid Search Results ===
Sharpe: 1.09 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.01 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.00 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.00 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.96 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.95 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.83 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.83 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.81 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.80 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.77 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.76 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.76 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.74 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.74 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.73 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.72 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.70 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.67 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.67 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.66 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.66 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.66 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.66 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.66 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.66 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.62 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.60 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.56 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.56 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.53 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.52 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.52 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.51 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.50 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.49 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.48 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.48 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.48 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.48 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.47 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.42 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.36 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.34 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.26 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 1.09 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.25, Val Wt: 0.75

Long-only backtest complete. Results saved to rolling_alpha_results_long.csv.

=== Grid Search Results ===
Sharpe: 1.06 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.05 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.00 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.97 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.97 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.97 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.93 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.92 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.92 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.92 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.91 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.91 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.90 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.88 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.85 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.84 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.81 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.79 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.74 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.66 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.66 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.66 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.66 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.65 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.65 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.64 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.64 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.61 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.60 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.58 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.58 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.58 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.55 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.55 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.55 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.52 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.50 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.49 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.43 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.36 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.32 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.23 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.18 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.18 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.18 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Best Sharpe: 1.06 with Momentum LB: 63, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

Long-short backtest complete. Results saved to rolling_alpha_results_longshort.csv.

=== Summary Stats (Long-Only) ===
           Annualized Return  Annualized Volatility  Sharpe Ratio  Max Drawdown
Portfolio           0.162813               0.148130      1.092685     -0.169681
Benchmark           0.071471               0.143376      0.553224     -0.210328

=== Summary Stats (Long-Short) ===
           Annualized Return  Annualized Volatility  Sharpe Ratio  Max Drawdown
Portfolio           0.139389               0.130691      1.064168     -0.127553
Benchmark           0.071471               0.143376      0.553224     -0.210328

=== Performance Attribution: Long-Only Portfolio ===
                            OLS Regression Results                            
==============================================================================
Dep. Variable:            port_return   R-squared:                       0.475
Model:                            OLS   Adj. R-squared:                  0.473
Method:                 Least Squares   F-statistic:                     180.6
Date:                Fri, 13 Jun 2025   Prob (F-statistic):          7.52e-137
Time:                        17:35:37   Log-Likelihood:                 3585.3
No. Observations:                1002   AIC:                            -7159.
Df Residuals:                     996   BIC:                            -7129.
Df Model:                           5                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P>|t|      [0.025      0.975]
------------------------------------------------------------------------------
const          0.0003      0.000      1.274      0.203      -0.000       0.001
MKT           -0.0039      0.029     -0.136      0.892      -0.060       0.052
BOND           0.6134      0.023     27.240      0.000       0.569       0.658
GOLD           0.0387      0.022      1.762      0.078      -0.004       0.082
USD            0.0226      0.011      2.102      0.036       0.002       0.044
OIL            0.0285      0.060      0.478      0.633      -0.089       0.146
==============================================================================
Omnibus:                       19.542   Durbin-Watson:                   2.064
Prob(Omnibus):                  0.000   Jarque-Bera (JB):               37.303
Skew:                           0.022   Prob(JB):                     7.94e-09
Kurtosis:                       3.944   Cond. No.                         288.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

=== Performance Attribution: Long-Short Portfolio ===
                            OLS Regression Results                            
==============================================================================
Dep. Variable:            port_return   R-squared:                       0.385
Model:                            OLS   Adj. R-squared:                  0.382
Method:                 Least Squares   F-statistic:                     124.5
Date:                Fri, 13 Jun 2025   Prob (F-statistic):          1.92e-102
Time:                        17:35:37   Log-Likelihood:                 3630.7
No. Observations:                1002   AIC:                            -7249.
Df Residuals:                     996   BIC:                            -7220.
Df Model:                           5                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P>|t|      [0.025      0.975]
------------------------------------------------------------------------------
const          0.0002      0.000      0.744      0.457      -0.000       0.001
MKT            0.1091      0.027      3.989      0.000       0.055       0.163
BOND           0.4203      0.022     19.531      0.000       0.378       0.463
GOLD           0.0183      0.021      0.871      0.384      -0.023       0.060
USD            0.0921      0.010      8.962      0.000       0.072       0.112
OIL            0.1458      0.057      2.558      0.011       0.034       0.258
==============================================================================
Omnibus:                       47.305   Durbin-Watson:                   2.071
Prob(Omnibus):                  0.000   Jarque-Bera (JB):               86.473
Skew:                          -0.338   Prob(JB):                     1.67e-19
Kurtosis:                       4.270   Cond. No.                         288.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

=== Fama-French 3-Factor Attribution: Long-Only Portfolio ===
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                      y   R-squared:                       0.480
Model:                            OLS   Adj. R-squared:                  0.478
Method:                 Least Squares   F-statistic:                     307.0
Date:                Fri, 13 Jun 2025   Prob (F-statistic):          3.33e-141
Time:                        17:35:43   Log-Likelihood:                 3593.3
No. Observations:                1003   AIC:                            -7179.
Df Residuals:                     999   BIC:                            -7159.
Df Model:                           3                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P>|t|      [0.025      0.975]
------------------------------------------------------------------------------
const          0.0003      0.000      1.243      0.214      -0.000       0.001
Mkt-RF         0.6072      0.022     27.535      0.000       0.564       0.650
SMB            0.0354      0.030      1.167      0.244      -0.024       0.095
HML            0.0932      0.023      4.107      0.000       0.049       0.138
==============================================================================
Omnibus:                       19.270   Durbin-Watson:                   2.073
Prob(Omnibus):                  0.000   Jarque-Bera (JB):               36.279
Skew:                          -0.037   Prob(JB):                     1.32e-08
Kurtosis:                       3.929   Cond. No.                         151.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

=== Fama-French 3-Factor Attribution: Long-Short Portfolio ===
                            OLS Regression Results                            
==============================================================================
Dep. Variable:                      y   R-squared:                       0.379
Model:                            OLS   Adj. R-squared:                  0.377
Method:                 Least Squares   F-statistic:                     203.4
Date:                Fri, 13 Jun 2025   Prob (F-statistic):          5.47e-103
Time:                        17:35:49   Log-Likelihood:                 3633.6
No. Observations:                1004   AIC:                            -7259.
Df Residuals:                    1000   BIC:                            -7239.
Df Model:                           3                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P>|t|      [0.025      0.975]
------------------------------------------------------------------------------
const          0.0001      0.000      0.722      0.470      -0.000       0.001
Mkt-RF         0.5075      0.021     23.871      0.000       0.466       0.549
SMB           -0.0755      0.029     -2.586      0.010      -0.133      -0.018
HML            0.2362      0.022     10.793      0.000       0.193       0.279
==============================================================================
Omnibus:                       58.249   Durbin-Watson:                   2.004
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              129.145
Skew:                          -0.346   Prob(JB):                     9.05e-29
Kurtosis:                       4.615   Cond. No.                         151.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

=== Grid Search Results ===
Sharpe: 0.88 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.77 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.69 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.60 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.60 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.60 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.58 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.55 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.51 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.49 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.48 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.46 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.45 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.40 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.40 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.40 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.38 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.38 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.38 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.36 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.36 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.36 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.34 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.31 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.30 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.27 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.27 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.27 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.26 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.22 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.21 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.20 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.14 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.04 | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.03 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.02 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.02 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.04 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.04 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.05 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.07 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.19 | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.23 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.24 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.26 | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Best Sharpe: 0.88 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50


DEBUG: Walk-forward step 0
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.73 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.52 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 2.30 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 2.21 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 2.12 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.73 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.42 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.73 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.73 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.13 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.12 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.71 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.64 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.42 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.42 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.06 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.04 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.96 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.94 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.93 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.93 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.81 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.68 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.61 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.60 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.59 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.59 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.55 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.16 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.77 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 2.73 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.00, Val Wt: 1.00

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.56 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.35 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.61 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.56 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.16 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.16 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.12 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.56 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.32 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.24 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.19 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.17 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.11 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.10 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.08 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.02 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.02 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.03 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.04 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.07 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.14 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.14 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.19 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.21 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.21 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.28 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.38 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.46 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.41 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.61 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 21
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: 2.00 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.00 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.95 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.76 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.64 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.61 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.61 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.61 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.97 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.69 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.58 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.45 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.12 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.71 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.61 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.52 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.48 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.45 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.41 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.32 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.27 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.17 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.08 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.08 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.07 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.00 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.77 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.61 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.51 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.41 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Best Sharpe: 2.00 with Momentum LB: 63, Value LB: 252, Mom Wt: 0.00, Val Wt: 1.00

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.43 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.38 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.94 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.46 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.43 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.30 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.25 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.21 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.74 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.65 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.40 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.23 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.21 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.20 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.13 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.09 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.04 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.04 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.01 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.01 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.01 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.08 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.08 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.13 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.13 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.16 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.17 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.22 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.40 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.06 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.94 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 42
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: 1.68 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.41 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.68 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.66 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.41 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.38 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.23 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.73 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.66 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.42 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.41 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.37 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.14 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.75 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.72 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.72 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.72 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.66 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.65 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.65 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.55 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.46 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.42 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.34 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.34 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.25 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.24 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.15 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.14 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.39 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 1.73 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.25, Val Wt: 0.75

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.88 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.70 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.67 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.10 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.99 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.67 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.59 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.40 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.30 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.04 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.81 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.69 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.66 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.61 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.61 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.50 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.50 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.40 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.30 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.29 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.27 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.15 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.10 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.02 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.01 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.01 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.01 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.17 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.17 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.13 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.10 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 63
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.46 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.39 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.32 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.31 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.22 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.18 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.87 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.59 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.41 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.39 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.20 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.18 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.85 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.84 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.83 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.75 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.74 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.74 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.65 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.52 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.52 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.38 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.38 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.34 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.31 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.23 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.21 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.11 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.06 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.60 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 1.87 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.25, Val Wt: 0.75

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.56 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.55 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.54 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.32 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.10 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.02 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.80 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.66 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.59 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.56 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.56 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.50 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.49 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.47 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.47 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.46 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.44 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.44 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.43 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.33 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.20 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.18 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.18 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.13 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.06 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.06 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.06 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.14 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.16 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.06 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.32 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 84
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: 0.76 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.85 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.79 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.76 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.74 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.43 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.10 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.70 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.63 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.54 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.43 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.39 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.37 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.29 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.29 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.28 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.23 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.16 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.04 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.01 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.10 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.10 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.16 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.17 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.32 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.37 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.67 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.53 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.38 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.04 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Best Sharpe: 1.10 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.25, Val Wt: 0.75

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.58 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.57 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.31 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.91 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.89 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.71 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.57 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.57 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.57 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.25 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.65 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.59 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.50 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.48 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.46 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.40 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.40 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.38 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.37 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.36 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.30 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.29 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.19 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.19 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.12 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.00 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.21 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.21 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.34 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.25 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.31 with Momentum LB: 126, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 105
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.48 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.78 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.58 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.57 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.57 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.96 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.85 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.76 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.59 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.49 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.48 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.47 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.47 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.44 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.33 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.33 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.28 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.15 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.15 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.15 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.15 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.14 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.14 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.13 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.09 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.03 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.22 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.35 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.57 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.51 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 1.48 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.74 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.38 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.20 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.04 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.67 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.67 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.10 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.91 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.76 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.72 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.59 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.57 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.55 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.55 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.54 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.54 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.51 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.48 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.44 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.44 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.37 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.34 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.30 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.28 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.28 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.21 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.15 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.25 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.25 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.48 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.38 with Momentum LB: 126, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 126
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.77 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.43 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.24 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.14 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.11 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.09 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.05 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.05 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.04 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.00 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.00 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.12 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.15 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.15 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.20 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.21 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.21 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.24 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.24 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.28 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.37 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.38 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.44 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.48 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.53 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.63 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.20 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 0.77 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.49 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.03 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.76 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.71 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.33 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.33 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.29 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.23 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.67 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.58 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.49 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.36 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.29 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.26 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.23 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.21 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.21 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.19 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.16 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.16 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.13 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.11 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.09 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.06 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.06 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.02 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.11 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.55 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.55 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.11 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.03 with Momentum LB: 126, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 147
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.90 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.12 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.58 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.31 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.28 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.25 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.17 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.16 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.11 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.11 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.07 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.07 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.07 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.02 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.01 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.01 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.03 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.07 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.07 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.07 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.16 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.31 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.31 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.33 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.43 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.44 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.70 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.73 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.07 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 0.90 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.25 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.17 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.84 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.66 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.60 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.11 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.11 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.03 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.71 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.34 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.13 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.11 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.02 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.01 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.00 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.00 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.03 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.06 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.08 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.08 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.10 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.13 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.19 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.19 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.21 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.26 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.52 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.71 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.03 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.71 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Best Sharpe: 0.84 with Momentum LB: 126, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 168
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.60 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.38 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.33 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.30 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.28 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.23 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.01 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.01 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.01 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.03 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.03 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.08 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.08 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.11 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.11 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.11 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.11 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.12 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.15 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.21 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.22 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.35 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.56 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.56 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.59 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.68 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.82 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.97 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.10 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.04 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 0.60 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.27 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.00 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.72 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.52 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.49 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.01 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.01 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.58 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.15 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.13 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.11 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.07 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.02 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.04 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.06 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.06 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.07 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.07 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.09 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.13 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.13 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.18 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.23 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.24 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.24 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.29 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.49 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.68 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.01 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.68 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Best Sharpe: 0.72 with Momentum LB: 126, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 189
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: -0.05 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.83 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.05 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.06 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.10 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.25 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.15 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.00 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.06 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.08 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.10 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.10 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.17 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.19 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.19 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.19 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.24 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.24 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.29 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.31 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.33 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.42 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.49 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.49 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.55 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.63 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.77 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.89 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.05 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.31 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 0.83 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.58 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.80 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.58 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.53 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.06 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.03 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.11 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.36 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.33 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.15 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.04 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.00 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.06 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.06 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.09 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.09 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.11 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.13 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.26 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.26 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.27 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.27 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.29 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.35 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.38 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.59 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.61 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.22 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.61 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Best Sharpe: 0.80 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 210
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.38 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.24 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.24 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.12 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.05 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.05 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.02 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.02 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.02 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.30 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.30 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.31 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.31 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.36 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.38 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.38 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.39 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.39 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.40 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.43 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.57 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.62 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.63 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.69 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.80 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -1.01 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.10 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 0.38 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.32 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.22 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.73 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.52 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.38 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.14 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.15 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.48 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.29 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.23 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.18 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.15 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.03 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.14 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.15 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.16 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.19 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.25 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.25 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.28 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.28 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.29 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.30 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.47 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.53 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.62 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.47 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.62 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Best Sharpe: 0.73 with Momentum LB: 126, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 231
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.68 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.54 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.51 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.42 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.37 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.24 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.23 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.17 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.14 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.12 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.12 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.11 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.10 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.10 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.19 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.22 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.22 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.25 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.25 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.26 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.26 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.27 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.33 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.41 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.46 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.55 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.59 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.33 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.17 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.10 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Best Sharpe: 0.68 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.50 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.26 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.65 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.40 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.37 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.34 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.58 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.57 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.41 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.39 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.10 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.08 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.03 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.02 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.02 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.05 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.05 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.05 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.08 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.08 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.10 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.10 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.13 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.19 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.19 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.21 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.44 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.52 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.33 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.44 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Best Sharpe: 0.65 with Momentum LB: 126, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 252
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: -0.25 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.15 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.05 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.00 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.00 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.10 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.21 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.22 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.26 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.31 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.31 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.45 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.45 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.49 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.54 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.54 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.56 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.67 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.72 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.78 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.80 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.85 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.87 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.87 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.87 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.91 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.10 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.17 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.26 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.49 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Best Sharpe: 0.15 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.49 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.19 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.55 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.52 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.42 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.26 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.25 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.15 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.10 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.03 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.02 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.02 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.08 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.09 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.12 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.12 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.16 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.22 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.22 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.22 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.24 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.31 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.32 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.32 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.33 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.34 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.63 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.63 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.84 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.64 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: 0.55 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.25, Val Wt: 0.75

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 273
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.41 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.36 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.27 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.24 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.05 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.03 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.04 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.05 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.08 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.08 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.08 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.15 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.24 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.24 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.35 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.37 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.47 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.47 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.49 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.49 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.50 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.50 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.51 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.56 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.60 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.63 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.71 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.06 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.04 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.12 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Best Sharpe: 0.41 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: -0.10 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.20 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.18 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.11 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.11 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.35 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.36 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.52 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.04 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.05 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.11 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.39 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.44 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.48 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.51 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.52 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.53 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.53 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.54 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.61 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.62 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.74 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.74 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.74 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.75 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.78 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.95 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.12 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.94 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.95 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Best Sharpe: 0.18 with Momentum LB: 126, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 294
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: -0.13 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.74 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.40 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.29 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.26 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.13 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.02 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.08 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.10 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.13 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.16 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.18 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.18 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.20 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.20 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.21 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.24 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.28 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.36 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.36 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.40 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.40 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.47 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.53 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.63 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.63 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.79 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.85 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.02 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.08 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Best Sharpe: 0.74 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.24 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.34 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.38 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.39 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.39 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.39 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.41 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.11 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.02 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.08 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.22 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.41 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.44 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.56 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.60 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.61 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.72 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.82 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.83 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.83 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.84 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.84 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.85 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.85 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.85 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.97 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.97 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.03 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.11 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -1.07 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: 0.11 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 315
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: -0.10 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.16 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.05 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.24 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.11 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.16 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.16 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.24 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.24 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.24 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.28 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.28 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.31 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.31 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.31 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.37 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.37 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.39 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.47 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.47 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.50 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.50 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.56 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.57 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.70 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.70 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.83 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.83 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.97 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.51 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.24 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.29 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.37 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.37 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.57 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.66 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.13 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.17 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.22 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.28 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.31 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.37 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.40 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.40 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.45 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.48 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.57 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.74 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.76 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.87 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.88 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.88 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.88 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.93 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.99 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.99 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.10 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.11 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.11 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.47 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -1.29 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: -0.13 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.25, Val Wt: 0.75

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 336
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: 0.15 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.08 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.05 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.01 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.04 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.05 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.14 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.28 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.27 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.21 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.05 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.01 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.31 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.37 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.41 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.41 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.42 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.45 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.54 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.64 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.67 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.68 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.73 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.73 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.88 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.88 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.01 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.09 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.12 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.43 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: 0.28 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.25, Val Wt: 0.75

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: -0.47 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.58 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.80 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.35 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.43 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.51 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.78 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.87 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.88 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.88 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.90 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.90 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.91 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.92 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.94 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.94 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.94 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.95 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.00 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -1.03 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.08 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.08 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.20 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.20 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.31 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.35 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.45 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.47 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.47 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.90 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: -0.35 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 357
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: 0.36 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.27 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.36 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.30 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.27 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.21 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.09 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.35 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.38 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.36 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.27 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.09 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.03 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.35 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.35 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.37 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.42 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.44 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.45 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.48 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.56 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.56 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.57 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.76 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.76 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.86 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.96 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.31 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.15 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.43 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: 0.38 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.25, Val Wt: 0.75

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: -0.40 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.68 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.73 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.73 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.28 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.31 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.49 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.52 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.52 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.67 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.71 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.75 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.75 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.76 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.76 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.79 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.79 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.81 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.84 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.90 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.96 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.96 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.00 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.06 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -1.16 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.16 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.35 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.38 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.38 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.00 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: -0.28 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 378
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: 0.94 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.05 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.94 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.92 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.86 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.63 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.99 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.87 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.87 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.86 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.85 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.82 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.79 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.79 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.78 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.77 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.77 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.76 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.69 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.67 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.62 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.62 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.52 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.46 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.36 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.25 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.25 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.02 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.67 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.82 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.63 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.15 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.14 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.15 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.16 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.87 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.37 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.19 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.19 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.02 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.01 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.17 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.18 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.21 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.21 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.22 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.31 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.32 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.33 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.35 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.41 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.41 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.44 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.46 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.52 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.52 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.54 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -1.17 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.17 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.18 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.23 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.87 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 399
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: 0.85 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.72 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.98 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.96 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.92 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.90 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.85 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.79 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.79 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.78 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.78 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.75 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.74 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.70 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.70 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.69 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.68 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.61 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.57 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.51 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.45 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.45 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.39 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.32 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.16 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.16 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.06 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.09 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.97 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.70 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: 1.72 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.44 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.25 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.42 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.06 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.58 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.58 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.54 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.37 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.27 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.22 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.10 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.10 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.10 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.10 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.08 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.06 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.03 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.12 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.15 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.18 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.18 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.19 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.19 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.20 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.32 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.47 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.62 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.62 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.64 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.03 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.06 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 420
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: 0.88 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.84 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.88 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.80 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.79 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.48 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.93 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.89 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.84 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.78 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.61 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.61 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.57 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.56 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.55 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.53 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.47 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.47 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.46 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.46 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.44 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.30 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.19 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.14 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.14 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.14 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.09 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.09 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.63 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.52 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: 1.48 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.14 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.03 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.23 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.78 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.36 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.36 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.30 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.13 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.01 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.01 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.05 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.06 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.08 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.08 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.10 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.21 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.23 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.23 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.25 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.44 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.53 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.62 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.76 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.76 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.82 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.82 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.82 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.87 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.87 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.06 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.78 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 441
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: 0.88 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.79 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.61 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.47 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.41 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.41 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.38 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.38 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.81 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.42 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.37 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.32 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.31 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.28 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.28 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.25 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.21 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.19 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.15 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.15 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.12 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.12 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.09 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.07 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.12 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.29 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.29 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.76 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.18 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: 0.88 with Momentum LB: 63, Value LB: 252, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.48 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.29 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.87 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.67 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.51 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.47 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.47 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.45 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.45 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.33 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.31 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.28 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.28 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.22 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.21 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.16 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.16 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.07 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.08 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.35 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.35 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.47 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.53 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.54 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.54 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.68 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.79 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.83 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.83 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.16 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.87 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 462
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (21, 5)

=== Grid Search Results ===
Sharpe: 0.49 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.39 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.56 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.52 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.34 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.17 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.07 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.54 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.45 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.29 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.17 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.00 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.08 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.08 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.14 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.19 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.19 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.19 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.21 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.25 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.25 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.27 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.27 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.30 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.41 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.84 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.87 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.87 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.12 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.22 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: 0.56 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.16 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.09 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.05 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.68 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.57 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.09 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.01 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.09 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.09 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.31 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.31 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.33 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.33 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.37 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.44 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.48 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.54 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.54 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.60 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.65 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.91 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.19 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.19 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.22 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.40 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -1.56 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -1.71 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.71 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -2.06 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.45 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.68 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 483
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (15, 5)

=== Grid Search Results ===
Sharpe: 1.02 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.87 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.87 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.86 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.71 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.11 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.97 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.93 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.78 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.78 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.73 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.59 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.58 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.56 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.38 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.38 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.32 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.26 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.09 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.11 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.12 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.15 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.15 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.21 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.24 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.24 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.28 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.84 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.84 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.65 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: 1.11 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.25, Val Wt: 0.75

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.27 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.11 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.85 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.62 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.36 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.34 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.23 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.23 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.21 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.12 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.13 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.13 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.17 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.18 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.20 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.26 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.26 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.32 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.38 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.39 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.84 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.09 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.09 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.10 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.37 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -1.42 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -1.55 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.55 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.81 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.21 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.85 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 504
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (0, 5)

=== Grid Search Results ===
Sharpe: 1.99 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.52 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.52 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.31 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.22 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.16 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.91 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.79 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.59 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.07 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.81 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.81 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.69 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.68 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.68 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.66 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.59 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.51 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.37 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.33 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.27 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.23 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.23 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.23 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.16 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.16 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.04 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.85 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.87 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.68 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: 1.99 with Momentum LB: 63, Value LB: 252, Mom Wt: 0.25, Val Wt: 0.75

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: -0.12 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.16 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.05 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.48 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.17 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.01 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.03 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.03 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.05 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.37 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.41 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.41 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.50 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.52 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.53 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.60 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.62 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.72 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.72 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.03 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.20 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.41 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.41 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.41 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -1.52 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.78 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -1.86 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.86 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -2.46 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.61 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.48 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 525
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (0, 5)

=== Grid Search Results ===
Sharpe: 1.64 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.62 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.70 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.46 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.46 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.43 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.37 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.26 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.17 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.17 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.17 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.17 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.14 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.05 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.97 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.83 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.52 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.52 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.51 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.51 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.43 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.42 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.27 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.23 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.23 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.19 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.00 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.49 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.37 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.34 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Best Sharpe: 1.70 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 1.33 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.06 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.81 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.59 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.59 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.59 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.37 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.30 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.07 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.97 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.81 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.81 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.81 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.79 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.69 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.59 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.54 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.52 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.52 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.05 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.11 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.17 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.19 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.23 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.23 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.40 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.75 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.75 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.44 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.57 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.81 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 546
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (0, 5)

=== Grid Search Results ===
Sharpe: 1.87 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.56 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.56 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.73 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.71 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.56 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.53 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.51 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.51 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.47 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.40 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.32 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.27 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.21 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.21 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.16 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.04 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.96 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.81 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.74 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.71 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.71 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.70 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.59 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.56 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.56 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.48 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.46 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.02 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.16 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 1.87 with Momentum LB: 63, Value LB: 252, Mom Wt: 0.25, Val Wt: 0.75

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 1.10 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.72 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.65 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.51 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.32 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.32 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.18 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.90 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.78 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.72 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.61 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.57 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.52 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.49 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.48 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.48 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.44 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.44 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.42 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.01 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.03 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.03 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.21 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.25 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.41 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.45 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.75 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.75 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -1.64 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.25 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.72 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 567
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (0, 5)

=== Grid Search Results ===
Sharpe: 1.60 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.74 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.69 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.57 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.57 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.57 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.57 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.51 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.46 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.39 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.38 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.32 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.11 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.04 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.04 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.01 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.00 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.00 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.98 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.94 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.81 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.56 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.53 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.50 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.37 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.37 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.36 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.15 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.04 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.11 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 1.74 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 1.11 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.66 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.66 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.65 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.48 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.34 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.24 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.09 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.03 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.92 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.92 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.87 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.87 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.82 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.82 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.76 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.69 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.59 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.57 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.31 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.16 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.15 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.15 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.01 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.06 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.40 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.40 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.96 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.34 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.64 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.66 with Momentum LB: 252, Value LB: 126, Mom Wt: 1.00, Val Wt: 0.00

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 588
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (0, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.36 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.57 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.36 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.36 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.35 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.30 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.13 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.13 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.11 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.03 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.03 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.01 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.94 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.88 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.87 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.80 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.77 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.77 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.73 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.73 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.73 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.65 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.46 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.46 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.36 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.34 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.33 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.31 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.07 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.46 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Best Sharpe: 1.57 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.80 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.78 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.69 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.41 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.31 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.17 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.87 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.84 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.71 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.69 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.62 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.59 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.58 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.58 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.55 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.55 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.54 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.45 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.28 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.25 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.22 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.22 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.18 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.08 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.16 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.16 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.74 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.31 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.20 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -1.35 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.41 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 609
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (0, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.33 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.33 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.32 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.32 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.29 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.18 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.18 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.05 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.98 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.96 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.96 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.90 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.88 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.88 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.78 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.75 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.72 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.60 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.60 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.56 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.52 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.51 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.48 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.47 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.45 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.34 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.34 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.30 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.25 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.69 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.33 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.86 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.77 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.23 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.12 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.12 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.97 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.79 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.67 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.63 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.55 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.48 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.48 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.45 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.38 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.38 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.36 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.32 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.32 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.29 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.29 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.21 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.17 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.17 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.08 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.04 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.30 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.30 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.61 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.19 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.60 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 1.23 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 630
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (0, 5)

=== Grid Search Results ===
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.53 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.43 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.41 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.41 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.36 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.29 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.23 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.23 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.10 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.06 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.02 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.94 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.94 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.92 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.87 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.81 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.75 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.66 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.66 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.63 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.57 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.57 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.54 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.45 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.42 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.22 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.18 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.16 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.16 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.67 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.53 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 1.35 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.20 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.06 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.96 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.37 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.17 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.17 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.04 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.99 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.96 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.95 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.88 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.82 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.82 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.82 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.81 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.70 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.70 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.67 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.57 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.57 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.54 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.36 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.27 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.23 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.23 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.15 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.06 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.82 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.82 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Best Sharpe: 1.37 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 651
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (0, 5)

=== Grid Search Results ===
Sharpe: 0.84 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.97 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.84 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.72 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.55 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.81 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.79 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.66 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.64 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.64 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.49 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.47 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.47 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.39 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.38 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.38 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.33 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.26 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.21 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.03 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.03 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.00 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.00 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.01 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.04 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.04 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.25 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.30 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.37 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.28 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.97 with Momentum LB: 126, Value LB: 126, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.55 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.53 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.27 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.83 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.73 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.63 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.49 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.38 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.38 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.33 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.25 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.14 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.12 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.12 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.02 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.01 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.01 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: -0.03 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.18 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.21 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.24 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.24 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.27 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.32 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.35 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: -0.58 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.58 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.75 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.82 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.00 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.83 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 672
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (0, 5)

=== Grid Search Results ===
Sharpe: 1.56 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.56 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.55 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.44 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.42 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.35 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.32 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.27 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.27 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.16 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.12 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.07 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.96 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.95 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.93 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.87 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.79 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.76 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.76 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.74 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.74 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.73 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.65 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.65 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.64 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.64 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.52 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.42 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.36 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.90 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.56 with Momentum LB: 63, Value LB: 252, Mom Wt: 0.00, Val Wt: 1.00

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.94 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.90 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.76 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.44 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.31 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.26 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.09 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.09 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.96 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.84 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.72 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.72 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.71 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.64 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.58 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.51 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.49 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.46 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.46 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.40 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.28 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.28 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.23 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.17 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.16 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: -0.05 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.05 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.28 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.49 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.64 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.44 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 693
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (0, 5)

=== Grid Search Results ===
Sharpe: 2.18 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.18 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.22 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.76 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.68 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.66 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.64 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.60 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.60 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.57 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.48 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.48 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.47 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.43 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.43 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.42 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.41 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.41 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.35 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.12 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.12 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.04 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.00 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.00 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.88 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.81 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.79 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.79 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.55 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.64 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 2.22 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.00, Val Wt: 1.00

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.75 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.64 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.53 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.52 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.47 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.53 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.96 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.75 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.75 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.63 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.53 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.51 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.42 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.42 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.36 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.36 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.36 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.35 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.34 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.34 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.12 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.07 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.02 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.02 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.02 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.02 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: -0.07 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.17 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -1.11 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.31 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 0.96 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.50, Val Wt: 0.50

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0

DEBUG: Walk-forward step 714
  train_slice shape: (504, 14)
  test_slice shape: (21, 14)
  test_macro_slice shape: (0, 5)

=== Grid Search Results ===
Sharpe: 2.13 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.13 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.48 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.37 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 2.20 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.80 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.71 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.65 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 1.60 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.55 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.49 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.37 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.37 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.36 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.35 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.29 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.29 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 1.29 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 1.14 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.81 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.67 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.67 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.66 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.64 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.52 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.46 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.35 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.35 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.35 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.55 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 2.20 with Momentum LB: 252, Value LB: 252, Mom Wt: 0.00, Val Wt: 1.00

  alpha_signals_test_long shape: (21, 14)
  alpha_signals_test_long NaN count: 0
  test_result_long shape: (14, 18)
  test_result_long['port_return'] NaN count: 0

=== Grid Search Results ===
Sharpe: 0.92 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.89 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.88 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 63 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.89 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 126 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 1.33 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 1.30 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.91 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.87 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.82 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.76 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.76 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.75 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.73 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.73 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.70 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.64 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.64 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.59 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.59 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.59 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: 0.59 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.57 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.53 | Momentum LB: 63 | Value LB: 126 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.09 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: 0.08 | Momentum LB: 126 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.05 | Momentum LB: 126 | Value LB: 126 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: 0.04 | Momentum LB: 63 | Value LB: 252 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: -0.45 | Momentum LB: 252 | Value LB: 126 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 1.00 | Val Wt: 0.00
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.75 | Val Wt: 0.25
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.50 | Val Wt: 0.50
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.25 | Val Wt: 0.75
Sharpe: nan | Momentum LB: 252 | Value LB: 504 | Mom Wt: 0.00 | Val Wt: 1.00
Sharpe: 0.68 | Momentum LB: 252 | Value LB: 252 | Mom Wt: 0.25 | Val Wt: 0.75
Best Sharpe: 1.33 with Momentum LB: 252, Value LB: 126, Mom Wt: 0.75, Val Wt: 0.25

  alpha_signals_test_ls shape: (21, 14)
  alpha_signals_test_ls NaN count: 0
  test_result_ls shape: (14, 18)
  test_result_ls['port_return'] NaN count: 0
DEBUG: walkforward_df_long shape: (490, 18)
DEBUG: walkforward_df_long head:
             port_return  sharpe  risk  ret  w_IVV  ...  w_XLP  w_XLRE         w_XLU         w_XLV  w_XLY
date                                               ...                                                  
2022-01-11     0.002708     NaN   NaN  NaN    0.0  ...    0.0     0.0  0.000000e+00  0.000000e+00    0.0
2022-01-12     0.003205     NaN   NaN  NaN    0.0  ...    0.0     0.0  0.000000e+00  7.613354e-13    0.0
2022-01-13     0.002653     NaN   NaN  NaN    0.0  ...    0.0     0.0  0.000000e+00  0.000000e+00    0.0
2022-01-14     0.000426     NaN   NaN  NaN    0.0  ...    0.0     0.0  4.579670e-16  0.000000e+00    0.0
2022-01-18    -0.019055     NaN   NaN  NaN    0.0  ...    0.0     0.0  1.000000e+00  0.000000e+00    0.0

[5 rows x 18 columns]
DEBUG: walkforward_df_long['port_return'] NaN count: 0
DEBUG: walkforward_df_long after dedup/sort shape: (490, 18)
DEBUG: walkforward_df_long['port_return'] after dedup/sort NaN count: 0
DEBUG: macro_factors['MKT'] shape: (1002,)
DEBUG: macro_factors['MKT'] head:
 Date
2021-01-06   -0.016241
2021-01-07   -0.002335
2021-01-08   -0.034210
2021-01-11   -0.001961
2021-01-12    0.006474
Name: MKT, dtype: float64
DEBUG: macro_factors['MKT'] NaN count: 0

=== Walk-Forward Out-of-Sample Performance (Long-Only) ===
           Annualized Return  Annualized Volatility  Sharpe Ratio  Max Drawdown
Portfolio           0.121496               0.197355      0.679074     -0.155212
Benchmark           0.115395               0.138639      0.857030     -0.192616
DEBUG: walkforward_df_longshort shape: (490, 18)
DEBUG: walkforward_df_longshort head:
             port_return      sharpe  risk       ret  ...  w_XLRE         w_XLU         w_XLV     w_XLY
date                                                 ...                                              
2022-01-11     0.009923  100.515450  0.03  3.015464  ...     0.0  0.000000e+00  0.000000e+00 -0.039901
2022-01-12    -0.003926   57.967177  0.03  1.739015  ...     0.0 -1.058751e-07  0.000000e+00  0.000000
2022-01-13     0.001843   65.128526  0.03  1.953856  ...     0.0  0.000000e+00  4.220673e-09 -0.190443
2022-01-14    -0.004208   27.040733  0.03  0.811222  ...     0.0  0.000000e+00  0.000000e+00 -0.000012
2022-01-18     0.028046   19.827829  0.03  0.594835  ...     0.0  0.000000e+00  0.000000e+00 -0.303294

[5 rows x 18 columns]
DEBUG: walkforward_df_longshort['port_return'] NaN count: 0
DEBUG: walkforward_df_longshort after dedup/sort shape: (490, 18)
DEBUG: walkforward_df_longshort['port_return'] after dedup/sort NaN count: 0
DEBUG: macro_factors['MKT'] shape: (1002,)
DEBUG: macro_factors['MKT'] head:
 Date
2021-01-06   -0.016241
2021-01-07   -0.002335
2021-01-08   -0.034210
2021-01-11   -0.001961
2021-01-12    0.006474
Name: MKT, dtype: float64
DEBUG: macro_factors['MKT'] NaN count: 0

=== Walk-Forward Out-of-Sample Performance (Long-Short) ===
           Annualized Return  Annualized Volatility  Sharpe Ratio  Max Drawdown
Portfolio          -0.241060               0.349553     -0.602566     -0.517488
Benchmark           0.115395               0.138639      0.857030     -0.192616
